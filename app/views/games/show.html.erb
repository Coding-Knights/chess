<% if flash.now[:alert].present? %>
  <div class="deliver-message alert alert-danger">
    <% flash.now[:alert].each do |alert| %>
      <%= alert %>
    <% end %>
  </div>
<% end %>

<br />

<div class="row justify-content-center">
    <% if @game.winner_id != nil %>
        <h2>Game has been forfeited!</h2>
    <% end %>
</div>


<table class="chessboard">
    <% (0..7).reverse_each do |row_index| %>
        <tr class="chessboard">
        <% (0..7).each do |column_index| %>
            <td class="chessboard">
                <% @game.pieces.each do |piece| %>
                    <% if piece.x_position == column_index && piece.y_position == row_index %>
                        <%= "#{piece.x_position},#{piece.y_position}"  %>
                    <% end %>
                <% end %>
            </td>
        <% end %>
        </tr>
    <% end %>
</table>


<h2 class="text-center">

<%= link_to 'FORFEIT', forfeit_path(@game), method: :get, class: "btn btn-danger btn-lg", id: 'Forfeit' %>

<%= link_to "DESTROY THIS GAME", game_path, :method=> :delete, :class=>"btn btn-danger btn-lg" %>

</h2>
